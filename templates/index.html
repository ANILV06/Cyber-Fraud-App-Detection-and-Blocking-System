<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Cyber Fraud Shield</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
  <style>
    * {
      box-sizing: border-box;
    }
    body {
      margin: 0;
      padding: 0;
      font-family: "Segoe UI", sans-serif;
      background: radial-gradient(circle at center, #0b1f2a 0%, #000 100%);
      color: #fff;
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }

    .nav-bar {
      display: flex;
      justify-content: space-between;
      padding: 1em 2em;
      background: #2d3a4094;
      border-bottom: 1px solid #111;
    }

    .nav-bar a {
      color: #fff;
      text-decoration: none;
      margin-left: 1em;
      font-weight: 600;
    }

    .container {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 2em;
      text-align: center;
    }

    h1 {
      font-size: 8em;
      font-style: italic;
      background: linear-gradient(to right, #61dafb, #007acc);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      margin: -0.7em 0 0.2em 0;
    }

    h2 {
      font-weight: 400;
      font-size: 1.2em;
      color: #aaaaaa;
      margin-bottom: 2em;
    }

    form {
      display: flex;
      max-width: 600px;
      width: 100%;
      background: #111;
      border: 1px solid #2a2a2a;
      border-radius: 0.8em;
      overflow: hidden;
    }

    input[type="text"] {
      flex: 1;
      padding: 1em;
      background: #111;
      color: #fff;
      border: none;
      outline: none;
      font-size: 1em;
    }

    button {
      padding: 1em 1.5em;
      background: #007acc;
      border: none;
      color: #fff;
      font-weight: bold;
      cursor: pointer;
      font-size: 1em;
    }

    button:hover {
      background: #008eff;
    }

    .result-box {
      margin-top: 2em;
      padding: 1em 1.5em;
      font-size: 1.1em;
      border-radius: 0.6em;
      font-weight: bold;
      width: 90%;
      max-width: 600px;
    }

    .bg-success {
      background-color: #4caf50;
      color: #fff;
    }

    .bg-danger {
      background-color: #d32f2f;
      color: #fff;
    }

    .bg-dark {
      background-color: #333;
      color: #ffc107;
    }

    footer {
      text-align: center;
      padding: 20px 0;
      background: #0c0c0c;
      color: #aaa;
      font-size: 0.9rem;
      margin-top: 60px;
    }

    .footer-links {
      margin-bottom: 10px;
    }

    .footer-links a {
      color: #aaa;
      font-size: 1.6rem;
      margin: 0 12px;
      transition: color 0.2s;
      text-decoration: none;
    }
    
.alert-success {
  background: #fff;
  color: #333;
  font-size: large;
  width: 300px;
  height: auto;
  position: fixed;
  bottom: 20px;
  left: 20px;
  text-align: center;
  padding: 2em 1em 1em 1em;
  border-radius: 12px;
  box-shadow: 0 4px 20px rgba(0,0,0,0.3);
  z-index: 1000;
  opacity: 1;
  transition: opacity 1s ease-out;
}

/* ‚úÖ Green checkmark circle */
.alert-success::before {
  content: "\f00c"; /* Font Awesome check icon */
  font-family: "Font Awesome 6 Free";
  font-weight: 900;
  position: absolute;
  top: -30px;
  left: calc(50% - 30px);
  width: 60px;
  height: 60px;
  background: #4caf50;
  color: white;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.8em;
}



    .footer-links a:hover {
      color: #61dafb;
    }

    @media (max-width: 600px) {
      h1 { font-size: 2.2em; }
      form { flex-direction: column; }
      input, button { width: 100%; border-radius: 0; }
    }
  </style>
</head>
<body>

  <!-- üîù Navbar -->
  <div class="nav-bar">
    <a href="/">üåê Cyber Fraud Detector</a>
    <div>
      <a href="/">Home</a>
      <a href="/dashboard">Logs</a>
      <a href="/admin-login">Admin</a>
    </div>
  </div>

  <!-- üß† Main -->
  <div class="container">
    <h1>Cyber Fraud Shield</h1>
    <h2>Check if a website/app link is fraudulent or safe</h2>

    <form method="POST" action="/">
      <input type="text" name="url" placeholder="Enter URL here..." required>
      <button type="submit">Check</button>
    </form>

    {% if message %}
    <div class="result-box 
        {% if 'Fraud' in message %} bg-danger 
        {% elif 'Blocked' in message %} bg-dark 
        {% else %} bg-success 
        {% endif %}">
        {{ message }}
    </div>
    {% endif %}

    {% if notification %}
      <div class="result-box bg-dark">{{ notification }}</div>
    {% endif %}
  </div>

  <!-- üîê Email Request Popup -->
  <form id="popupForm" method="POST" action="{{ url_for('submit_email_request') }}" style="display: none;">
    <input type="hidden" name="user_name" id="hiddenName">
    <input type="hidden" name="user_email" id="hiddenEmail">
    <input type="hidden" name="url" value="{{ url_to_report }}">
  </form>

  {% if show_email_form %}
  <script>
    setTimeout(function () {
      let name = prompt("‚ö†Ô∏è This URL looks suspicious.\nEnter your name to notify admin:");
      if (name !== null && name.trim() !== "") {
        let email = prompt("Enter your email:");
        if (email !== null && email.trim() !== "") {
          document.getElementById("hiddenName").value = name.trim();
          document.getElementById("hiddenEmail").value = email.trim();
          document.getElementById("popupForm").submit();
        }
      }
    }, 500);
  </script>
  {% endif %}
  {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
          {% for category, message in messages %}
            <div class="alert alert-{{ category }}">{{ message }}</div>
          {% endfor %}
        {% endif %}
      {% endwith %}

  <script>
  window.addEventListener('DOMContentLoaded', () => {
    const alert = document.querySelector('.alert-success');
    if (alert) {
      setTimeout(() => {
        alert.style.opacity = '0';
        setTimeout(() => {
          alert.remove();
        }, 1000); // match transition time
      }, 3000); // show for 3s before fade
    }
  });
</script>


  <!-- üîö Footer -->
  <footer>
    <div class="footer-links">
      <a href="mailto:anildp2001@gmail.com" title="Email"><i class="fas fa-envelope"></i></a>
      <a href="https://www.instagram.com/__ani.rahu__" target="_blank" title="Instagram"><i class="fab fa-instagram"></i></a>
      <a href="https://www.linkedin.com/in/anil-v-430b44309" target="_blank" title="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
      <a href="https://github.com/ANILV06" target="_blank" title="GitHub"><i class="fab fa-github"></i></a>
    </div>
    <div>¬© 2025 Cyber Fraud Detection ‚Ä¢ Designed by <strong style="color:#61dafb;">ANIL.V</strong></div>
  </footer>

</body>
</html>
